(this["webpackJsonpgremlin-visualizer"]=this["webpackJsonpgremlin-visualizer"]||[]).push([[0],{101:function(e,t,a){e.exports=a(133)},133:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(10),s=a.n(o),l=a(37),i=a(83),c=a(27),d=a(12),p="".concat("http://localhost:3001","/query"),u="Invalid query. Please execute a query to get a set of vertices",m="SET_HOST",h="SET_PORT",y="SET_QUERY",E="SET_ERROR",b="SET_NETWORK",g="CLEAR_GRAPH",f="ADD_NODES",v="ADD_EDGES",O="SET_SELECTED_NODE",L="SET_SELECTED_EDGE",j="SET_IS_PHYSICS_ENABLED",k="ADD_QUERY_HISTORY",N="CLEAR_QUERY_HISTORY",_="SET_NODE_LABELS",C="ADD_NODE_LABEL",S="EDIT_NODE_LABEL",T="REMOVE_NODE_LABEL",w="REFRESH_NODE_LABELS",x="SET_NODE_LIMIT",H={host:"localhost",port:"8182",query:"",error:null},D=a(19),R=a(49),q=a(11),A=a.n(q),I=function(e){var t;for(t in e)break;return t},P=function(e,t){return A.a.differenceBy(e,t,(function(e){return e.id}))},z=function(e,t){return A.a.differenceBy(e,t,(function(e){return"".concat(e.from,",").concat(e.to)}))},B=function(e,t){return A.a.find(e,(function(e){return e.id===t}))},Q=function(e){A.a.forOwn(e,(function(t,a){A.a.isString(t)||(e[a]=JSON.stringify(t))}))},G={network:null,nodeHolder:new R.a.DataSet([]),edgeHolder:new R.a.DataSet([]),nodes:[],edges:[],selectedNode:{},selectedEdge:{}},V={nodeLabels:[],queryHistory:[],isPhysicsEnabled:!0,nodeLimit:100,networkOptions:{physics:{forceAtlas2Based:{gravitationalConstant:-26,centralGravity:.005,springLength:230,springConstant:.18,avoidOverlap:1.5},maxVelocity:40,solver:"forceAtlas2Based",timestep:.35,stabilization:{enabled:!0,iterations:50,updateInterval:25}},nodes:{shape:"dot",size:20,borderWidth:2,font:{size:11}},edges:{width:2,font:{size:11},smooth:{type:"dynamic"}}}},Y=a(24),J=a(25),M=a(29),U=a(28),F=a(169),W=function(e){Object(M.a)(a,e);var t=Object(U.a)(a);function a(){return Object(Y.a)(this,a),t.apply(this,arguments)}return Object(J.a)(a,[{key:"componentDidMount",value:function(){var e=this,t={nodes:this.props.nodeHolder,edges:this.props.edgeHolder},a=new R.a.Network(this.refs.myRef,t,this.props.networkOptions);a.on("selectNode",(function(t){var a=t.nodes&&t.nodes.length>0?t.nodes[0]:null;e.props.dispatch({type:O,payload:a})})),a.on("selectEdge",(function(t){var a=t.edges&&1===t.edges.length?t.edges[0]:null;t.nodes&&t.nodes.length>0||null===a||e.props.dispatch({type:L,payload:a})})),this.props.dispatch({type:b,payload:a})}},{key:"render",value:function(){return r.a.createElement("div",{ref:"myRef",className:"mynetwork"})}}]),a}(r.a.Component),X=Object(c.b)((function(e){return{nodeHolder:e.graph.nodeHolder,edgeHolder:e.graph.edgeHolder,networkOptions:e.options.networkOptions}}))(W),K=a(179),Z=a(166),$=a(55),ee=a.n($),te=function(e,t,a,n){var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=[],n=[],r=A.a.mapValues(A.a.keyBy(t,"type"),"field");return A.a.forEach(e,(function(e){var o=e.label;if(!r[o]){var s=I(e.properties),l={type:o,field:s};t.push(l),r[o]=s}var i=r[o],c=i in e.properties?e.properties[i]:o;n.push({id:e.id,label:String(c),group:e.label,properties:e.properties,type:o}),a=a.concat(A.a.map(e.edges,(function(e){return Object(d.a)({},e,{type:e.label,arrows:{to:{enabled:!0,scaleFactor:.5}}})})))})),{edges:a,nodes:n,nodeLabels:t}}(e.data,a),o=r.nodes,s=r.edges,l=r.nodeLabels;n({type:f,payload:o}),n({type:v,payload:s}),n({type:_,payload:l}),n({type:k,payload:t})},ae=function(e){Object(M.a)(a,e);var t=Object(U.a)(a);function a(){return Object(Y.a)(this,a),t.apply(this,arguments)}return Object(J.a)(a,[{key:"clearGraph",value:function(){this.props.dispatch({type:g}),this.props.dispatch({type:N})}},{key:"sendQuery",value:function(){var e=this;this.props.dispatch({type:E,payload:null}),ee.a.post(p,{host:this.props.host,port:this.props.port,query:this.props.query,nodeLimit:this.props.nodeLimit},{headers:{"Content-Type":"application/json"}}).then((function(t){te(t,e.props.query,e.props.nodeLabels,e.props.dispatch)})).catch((function(t){e.props.dispatch({type:E,payload:u})}))}},{key:"onHostChanged",value:function(e){this.props.dispatch({type:m,payload:e})}},{key:"onPortChanged",value:function(e){this.props.dispatch({type:h,payload:e})}},{key:"onQueryChanged",value:function(e){this.props.dispatch({type:y,payload:e})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"header"},r.a.createElement("form",{noValidate:!0,autoComplete:"off"},r.a.createElement(K.a,{value:this.props.host,onChange:function(t){return e.onHostChanged(t.target.value)},id:"standard-basic",label:"host",style:{width:"10%"}}),r.a.createElement(K.a,{value:this.props.port,onChange:function(t){return e.onPortChanged(t.target.value)},id:"standard-basic",label:"port",style:{width:"10%"}}),r.a.createElement(K.a,{value:this.props.query,onChange:function(t){return e.onQueryChanged(t.target.value)},id:"standard-basic",label:"gremlin query",style:{width:"60%"}}),r.a.createElement(Z.a,{variant:"contained",color:"primary",onClick:this.sendQuery.bind(this),style:{width:"150px"}},"Execute"),r.a.createElement(Z.a,{variant:"outlined",color:"secondary",onClick:this.clearGraph.bind(this),style:{width:"150px"}},"Clear Graph")),r.a.createElement("br",null),r.a.createElement("div",{style:{color:"red"}},this.props.error))}}]),a}(r.a.Component),ne=Object(c.b)((function(e){return{host:e.gremlin.host,port:e.gremlin.port,query:e.gremlin.query,error:e.gremlin.error,nodes:e.graph.nodes,edges:e.graph.edges,nodeLabels:e.options.nodeLabels,nodeLimit:e.options.nodeLimit}}))(ae),re=a(167),oe=a(168),se=a(134),le=a(180),ie=a(170),ce=a(51),de=a(171),pe=a(165),ue=a(181),me=a(172),he=a(182),ye=a(173),Ee=a(174),be=a(175),ge=a(176),fe=a(177),ve=a(178),Oe=a(66),Le=a.n(Oe),je=a(89),ke=a.n(je),Ne=a(86),_e=a.n(Ne),Ce=a(88),Se=a.n(Ce),Te=a(91),we=a.n(Te),xe=a(90),He=a.n(xe),De=a(85),Re=function(e){Object(M.a)(a,e);var t=Object(U.a)(a);function a(){return Object(Y.a)(this,a),t.apply(this,arguments)}return Object(J.a)(a,[{key:"onAddNodeLabel",value:function(){this.props.dispatch({type:C})}},{key:"onEditNodeLabel",value:function(e,t){this.props.dispatch({type:S,payload:{id:e,nodeLabel:t}})}},{key:"onRemoveNodeLabel",value:function(e){this.props.dispatch({type:T,payload:e})}},{key:"onEditNodeLimit",value:function(e){this.props.dispatch({type:x,payload:e})}},{key:"onRefresh",value:function(){this.props.dispatch({type:w,payload:this.props.nodeLabels})}},{key:"onTraverse",value:function(e,t){var a=this,n="g.V('".concat(e,"').").concat(t,"()");ee.a.post(p,{host:this.props.host,port:this.props.port,query:n,nodeLimit:this.props.nodeLimit},{headers:{"Content-Type":"application/json"}}).then((function(e){te(e,n,a.props.nodeLabels,a.props.dispatch)})).catch((function(e){a.props.dispatch({type:E,payload:u})}))}},{key:"onTogglePhysics",value:function(e){if(this.props.dispatch({type:j,payload:e}),this.props.network){var t={smooth:{type:e?"dynamic":"continuous"}};this.props.network.setOptions({physics:e,edges:t})}}},{key:"generateList",value:function(e){var t=0;return e.map((function(e){return t+=1,r.a.cloneElement(r.a.createElement(re.a,null,r.a.createElement(oe.a,{primary:e})),{key:t})}))}},{key:"generateNodeLabelList",value:function(e){var t=this,a=-1;return e.map((function(e){return a+=1,e.index=a,r.a.cloneElement(r.a.createElement(re.a,null,r.a.createElement(K.a,{id:"standard-basic",label:"Node Type",InputLabelProps:{shrink:!0},value:e.type,onChange:function(a){var n=a.target.value,r=e.field;t.onEditNodeLabel(e.index,{type:n,field:r})}}),r.a.createElement(K.a,{id:"standard-basic",label:"Label Field",InputLabelProps:{shrink:!0},value:e.field,onChange:function(a){var n=a.target.value,r=e.type;t.onEditNodeLabel(e.index,{type:r,field:n})}}),r.a.createElement(se.a,{"aria-label":"delete",size:"small",onClick:function(){return t.onRemoveNodeLabel(e.index)}},r.a.createElement(_e.a,{fontSize:"small"}))),{key:a})}))}},{key:"render",value:function(){var e=this,t=!1,a=null,n=null,o=null,s=null;return A.a.isEmpty(this.props.selectedNode)?A.a.isEmpty(this.props.selectedEdge)||(t=!0,a=A.a.get(this.props.selectedEdge,"type"),n=A.a.get(this.props.selectedEdge,"id"),o=A.a.get(this.props.selectedEdge,"properties"),s="Edge",Q(o)):(t=!0,a=A.a.get(this.props.selectedNode,"type"),n=A.a.get(this.props.selectedNode,"id"),o=A.a.get(this.props.selectedNode,"properties"),Q(o),s="Node"),r.a.createElement("div",{className:"details"},r.a.createElement(F.a,{container:!0,spacing:2},r.a.createElement(F.a,{item:!0,xs:12,sm:12,md:12},r.a.createElement(le.a,null,r.a.createElement(ie.a,{expandIcon:r.a.createElement(Le.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},r.a.createElement(ce.a,null,"Query History")),r.a.createElement(de.a,null,r.a.createElement(pe.a,{dense:!0},this.generateList(this.props.queryHistory)))),r.a.createElement(le.a,null,r.a.createElement(ie.a,{expandIcon:r.a.createElement(Le.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},r.a.createElement(ce.a,null,"Settings")),r.a.createElement(de.a,null,r.a.createElement(F.a,{container:!0,spacing:2},r.a.createElement(F.a,{item:!0,xs:12,sm:12,md:12},r.a.createElement(ue.a,{title:"Automatically stabilize the graph","aria-label":"add"},r.a.createElement(me.a,{control:r.a.createElement(he.a,{checked:this.props.isPhysicsEnabled,onChange:function(){e.onTogglePhysics(!e.props.isPhysicsEnabled)},value:"physics",color:"primary"}),label:"Enable Physics"})),r.a.createElement(ye.a,null)),r.a.createElement(F.a,{item:!0,xs:12,sm:12,md:12},r.a.createElement(ue.a,{title:"Number of maximum nodes which should return from the query. Empty or 0 has no restrictions.","aria-label":"add"},r.a.createElement(K.a,{label:"Node Limit",type:"Number",variant:"outlined",value:this.props.nodeLimit,onChange:function(t){var a=t.target.value;e.onEditNodeLimit(a)}}))),r.a.createElement(F.a,{item:!0,xs:12,sm:12,md:12},r.a.createElement(ye.a,null)),r.a.createElement(F.a,{item:!0,xs:12,sm:12,md:12},r.a.createElement(ce.a,null,"Node Labels")),r.a.createElement(F.a,{item:!0,xs:12,sm:12,md:12},r.a.createElement(pe.a,{dense:!0},this.generateNodeLabelList(this.props.nodeLabels))),r.a.createElement(F.a,{item:!0,xs:12,sm:12,md:12},r.a.createElement(Ee.a,{variant:"extended",color:"primary",size:"small",onClick:this.onRefresh.bind(this)},r.a.createElement(Se.a,null),"Refresh"),r.a.createElement(Ee.a,{variant:"extended",size:"small",onClick:this.onAddNodeLabel.bind(this)},r.a.createElement(ke.a,null),"Add Node Label")))))),t&&r.a.createElement(F.a,{item:!0,xs:12,sm:12,md:12},r.a.createElement("h2",null,"Information: ",s),"Node"===s&&r.a.createElement(F.a,{item:!0,xs:12,sm:12,md:12},r.a.createElement(F.a,{container:!0,spacing:2},r.a.createElement(F.a,{item:!0,xs:6,sm:6,md:6},r.a.createElement(Ee.a,{variant:"extended",size:"small",onClick:function(){return e.onTraverse(n,"out")}},"Traverse Out Edges",r.a.createElement(He.a,null))),r.a.createElement(F.a,{item:!0,xs:6,sm:6,md:6},r.a.createElement(Ee.a,{variant:"extended",size:"small",onClick:function(){return e.onTraverse(n,"in")}},"Traverse In Edges",r.a.createElement(we.a,null))))),r.a.createElement(F.a,{item:!0,xs:12,sm:12,md:12},r.a.createElement(F.a,{container:!0},r.a.createElement(be.a,{"aria-label":"simple table"},r.a.createElement(ge.a,null,r.a.createElement(fe.a,{key:"type"},r.a.createElement(ve.a,{scope:"row"},"Type"),r.a.createElement(ve.a,{align:"left"},String(a))),r.a.createElement(fe.a,{key:"id"},r.a.createElement(ve.a,{scope:"row"},"ID"),r.a.createElement(ve.a,{align:"left"},String(n))))),r.a.createElement(De.JsonToTable,{json:o}))))))}}]),a}(r.a.Component),qe=Object(c.b)((function(e){return{host:e.gremlin.host,port:e.gremlin.port,network:e.graph.network,selectedNode:e.graph.selectedNode,selectedEdge:e.graph.selectedEdge,queryHistory:e.options.queryHistory,nodeLabels:e.options.nodeLabels,nodeLimit:e.options.nodeLimit,isPhysicsEnabled:e.options.isPhysicsEnabled}}))(Re),Ae=function(e){Object(M.a)(a,e);var t=Object(U.a)(a);function a(){return Object(Y.a)(this,a),t.apply(this,arguments)}return Object(J.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(F.a,{container:!0,spacing:1},r.a.createElement(F.a,{item:!0,xs:12,sm:12,md:12},r.a.createElement(ne,null)),r.a.createElement(F.a,{item:!0,xs:12,sm:9,md:9},r.a.createElement(X,null)),r.a.createElement(F.a,{item:!0,xs:12,sm:3,md:3},r.a.createElement(qe,null))))}}]),a}(r.a.Component),Ie=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.d,Pe=Object(l.c)({gremlin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(d.a)({},e,{host:t.payload});case h:return Object(d.a)({},e,{port:t.payload});case y:return Object(d.a)({},e,{query:t.payload,error:null});case E:return Object(d.a)({},e,{error:t.payload});default:return e}},graph:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return e.nodeHolder.clear(),e.edgeHolder.clear(),Object(d.a)({},e,{nodes:[],edges:[],selectedNode:{},selectedEdge:{}});case b:return Object(d.a)({},e,{network:t.payload});case f:var a=P(t.payload,e.nodes),n=[].concat(Object(D.a)(e.nodes),Object(D.a)(a));return e.nodeHolder.add(a),Object(d.a)({},e,{nodes:n});case v:var r=z(t.payload,e.edges),o=[].concat(Object(D.a)(e.edges),Object(D.a)(r));return e.edgeHolder.add(r),Object(d.a)({},e,{edges:o});case O:var s=t.payload,l={};return null!==s&&(l=B(e.nodes,s)),Object(d.a)({},e,{selectedNode:l,selectedEdge:{}});case L:var i=t.payload,c={};return null!==i&&(c=B(e.edges,i)),Object(d.a)({},e,{selectedEdge:c,selectedNode:{}});case w:var p=A.a.mapValues(A.a.keyBy(t.payload,"type"),"field");return A.a.map(e.nodes,(function(t){if(t.type in p){var a=p[t.type],n=t.properties[a];return e.nodeHolder.update({id:t.id,label:n}),Object(d.a)({},t,{label:n})}return t})),e;default:return e}},options:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:var a=A.a.get(t,"payload",!0);return Object(d.a)({},e,{isPhysicsEnabled:a});case k:return Object(d.a)({},e,{queryHistory:[].concat(Object(D.a)(e.queryHistory),[t.payload])});case N:return Object(d.a)({},e,{queryHistory:[]});case _:var n=A.a.get(t,"payload",[]);return Object(d.a)({},e,{nodeLabels:n});case C:var r=[].concat(Object(D.a)(e.nodeLabels),[{}]);return Object(d.a)({},e,{nodeLabels:r});case S:var o=t.payload.id,s=t.payload.nodeLabel;if(e.nodeLabels[o]){var l=[].concat(Object(D.a)(e.nodeLabels.slice(0,o)),[s],Object(D.a)(e.nodeLabels.slice(o+1)));return Object(d.a)({},e,{nodeLabels:l})}return e;case T:var i=t.payload;if(i<e.nodeLabels.length){var c=[].concat(Object(D.a)(e.nodeLabels.slice(0,i)),Object(D.a)(e.nodeLabels.slice(i+1)));return Object(d.a)({},e,{nodeLabels:c})}return e;case x:var p=t.payload;return Object(d.a)({},e,{nodeLimit:p});default:return e}}}),ze=Object(l.e)(Pe,Ie(Object(l.a)(Object(i.createLogger)())));s.a.render(r.a.createElement(c.a,{store:ze},r.a.createElement(Ae,null)),document.getElementById("root"))}},[[101,1,2]]]);
//# sourceMappingURL=main.c497cb47.chunk.js.map